<!-- <ion-content> -->
<ng-container *ngIf="(readyToEdit | async)">
    <ng-container *ngIf="isAuth | async">
        <ion-list>

            <!-- <app-photo-adder (onUrlsChange)="onPhotoUrlsChange($event)">
                </app-photo-adder> -->
            <ng-container *ngIf="(isTrail$ | async) == false">
                <ion-item>
                    <ion-label>Facility Cleanliness</ion-label>
                    <ion-rating [rate]="campReviewToSubmit?.facilityCleanliness"
                        (rateChange)="onCampAttributeRateChange($event, CampReviewAttributes.facilityCleanliness)">
                    </ion-rating>
                </ion-item>
                <ion-item>
                    <ion-label>Horse Facilities</ion-label>
                    <ion-rating [rate]="campReviewToSubmit?.horseFacilities"
                        (rateChange)="onCampAttributeRateChange($event, CampReviewAttributes.horseFacilities)">
                    </ion-rating>
                </ion-item>
                <ion-item>
                    <ion-label>Big Rig Friendly</ion-label>
                    <ion-rating [rate]="campReviewToSubmit?.bigRigFriendly"
                        (rateChange)="onCampAttributeRateChange($event, CampReviewAttributes.bigRigFriendly)">
                    </ion-rating>
                </ion-item>
                <ion-item>
                    <ion-label>Wifi</ion-label>
                    <ion-rating [rate]="campReviewToSubmit?.wifi"
                        (rateChange)="onCampAttributeRateChange($event, CampReviewAttributes.wifi)"></ion-rating>
                </ion-item>
                <ion-item>
                    <ion-label>Pet Friendly</ion-label>
                    <ion-rating [rate]="campReviewToSubmit?.petFriendly"
                        (rateChange)="onCampAttributeRateChange($event, CampReviewAttributes.petFriendly)">
                    </ion-rating>
                </ion-item>
                <ion-item>
                    <ion-label>Overall</ion-label>
                    <ion-rating [rate]="campReviewToSubmit?.rating" (rateChange)="campReviewToSubmit.rating = $event">
                    </ion-rating>
                </ion-item>
                <ion-textarea name="description" [(ngModel)]="campReviewToSubmit.description"
                    placeholder="Write your review here...">
                </ion-textarea>
            </ng-container>


            <ng-container *ngIf="(isTrail$ | async) == true">
                <ion-item>
                    <ion-label>Overall</ion-label>
                    <ion-rating [rate]="trailReviewToSubmit?.rating" (rateChange)="trailReviewToSubmit.rating = $event">
                    </ion-rating>
                </ion-item>

                <ion-item>
                    <ion-label>Overall Difficulty</ion-label>
                    <ion-rating [rate]="trailReviewToSubmit?.difficulty"
                        (rateChange)="onTrailAttributeRateChange($event, TrailReviewAttributes.difficulty)">
                    </ion-rating>
                </ion-item>

                <ion-item>
                    <ion-label>Water Crossings</ion-label>
                    <ion-rating [rate]="trailReviewToSubmit?.difficultyWater"
                        (rateChange)="onTrailAttributeRateChange($event, TrailReviewAttributes.difficultyWater)">
                    </ion-rating>
                </ion-item>

                <ion-item>
                    <ion-label>Ease of Navigation (terrain)</ion-label>
                    <ion-rating [rate]="trailReviewToSubmit?.difficultyBridges"
                        (rateChange)="onTrailAttributeRateChange($event, TrailReviewAttributes.difficultyBridges)">
                    </ion-rating>
                </ion-item>

                <ion-item>
                    <ion-label>Ease of Navigation (footing)</ion-label>
                    <ion-rating [rate]="trailReviewToSubmit?.footing"
                        (rateChange)="onTrailAttributeRateChange($event, TrailReviewAttributes.footing)">
                    </ion-rating>
                </ion-item>

                <ion-item>
                    <ion-label>Trail Condition</ion-label>
                    <ion-rating [rate]="trailReviewToSubmit?.trailCondition"
                        (rateChange)="onTrailAttributeRateChange($event, TrailReviewAttributes.trailCondition)">
                    </ion-rating>
                </ion-item>
                <ion-item>
                    <ion-label>Parking</ion-label>
                    <ion-rating [rate]="trailReviewToSubmit?.parking"
                        (rateChange)="onTrailAttributeRateChange($event, TrailReviewAttributes.parking)">
                    </ion-rating>
                </ion-item>
                <ion-textarea name="description" [(ngModel)]="trailReviewToSubmit.description"
                    placeholder="Write your review here...">
                </ion-textarea>
            </ng-container>
        </ion-list>
        <ion-button (click)="onSubmit()">Submit</ion-button>
    </ng-container>

    <ng-container *ngIf="!(isAuth | async)">
        <p>Please <a (click)="onLoginButtonClick()" [routerLink]="['/login']">log in</a> to write a review.</p>
    </ng-container>

</ng-container>

<ng-container *ngIf="readyToView | async">
    <ion-grid>
        <ion-row>
            <ion-col size="3">
                <img class="avatar" [src]="(userData$ | async)?.photoUrl"
                    onError="this.src='assets/blank-profile-picture.png'">
            </ion-col>
            <ion-col size="9">
                <ion-row>
                    <ion-col size="6" class="overflow-clip">
                        {{(userData$ | async)?.name}} &#183; {{review.dateTime | date: 'MMM y'}}
                    </ion-col>
                    <ion-col size="6" class="ion-col-review no-wrap">
                        <ion-rating [rate]="review.rating" readonly="true"></ion-rating>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-textarea name="description" readonly="true" [(ngModel)]="review.description">
                    </ion-textarea>
                </ion-row>
            </ion-col>

        </ion-row>
    </ion-grid>
</ng-container>
<!-- </ion-content> -->