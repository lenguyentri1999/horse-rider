<app-pwa-nav-bar></app-pwa-nav-bar>

<ion-content>
  <ion-searchbar placeholder="Explore camps" #textSearch></ion-searchbar>
  <ion-auto-complete [options]="{ placeholder : 'Your location' }" (itemSelected)="onLocationSelected($event)"
    [dataProvider]="mapboxService" #locationSearch></ion-auto-complete>
  <ion-button (click)="searchCamps()" [disabled]="!query.place">Search</ion-button>

  <ion-grid>
    <ion-row>
      <ion-button (click)="onFilterButtonClick()">
        <ion-icon name="color-filter" style="margin-right: 1em"></ion-icon>
        Filters
      </ion-button>
      <ion-button (click)="onSortButtonClick()">
        <ion-icon name="funnel" style="margin-right: 1em"></ion-icon>
        Sort
      </ion-button>
    </ion-row>
  </ion-grid>
  <ion-grid>
    <ion-row>
      <ion-col size="6">
        <div *ngFor="let camp of camps | async">
          <app-camp-card [camp]="camp" (click)="goToCampInfo(camp)"></app-camp-card>
        </div>
      </ion-col>
      <ion-col size="6">
        <app-mapboxgl-map [centerCoords]="currentCoords | async" [geoJsonData]="campsMarkers | async"></app-mapboxgl-map>
      </ion-col>
    </ion-row>
  </ion-grid>
  <app-mapboxgl-map></app-mapboxgl-map>
</ion-content>